# AWS Service Broker - AWS CodeCommit

<img  align="left" src="https://s3.amazonaws.com/awsservicebroker/icons/aws-service-broker.png" width="120"><img align="right" src="https://s3.amazonaws.com/awsservicebroker/icons/AWSCodeCommit_LARGE.png" width="108"> <p align="center"> AWS CodeCommit is a version control service that enables you to privately store and manage Git repositories in the AWS cloud. https://aws.amazon.com/codecommit/</p>&nbsp;

Table of contents
=================

* [Parameters](#parameters)
  * [default](#param-default)
* [Bind Credentials](#bind-credentials)
* [Examples](#kubernetes-openshift-examples)
  * [default](#example-default)

<a id="parameters" />

# Parameters

<a id="param-default" />

## default

Enables use of AWS CodeCommit

Pricing: https://aws.amazon.com/codecommit/pricing/


### Optional

These parameters can optionally be declared when provisioning

Name            | Description     | Default         | Accepted Values
--------------- | --------------- | --------------- | ---------------
RepositoryName | Name of repository| Automatically generated by using name of Cloudformation Stack | String, 1 to 100 characters. Must match `[\w\.-]+` pattern.
RepositoryDescription | A comment or description about the new repository.| No description specified | String, maximal 1000 characters. Special characters should be html-encoded.

<a id="bind-credentials" />

# Bind Credentials

These are the environment variables that are available to an application on bind.

Name           | Description
-------------- | ---------------
`REPOSITORY_ARN` | AWS Resource Name of the CodeCommit repository
`REPOSITORY_ID` | AWS CodeCommit Repository ID
`REPOSITORY_NAME` | Repository name
`REPOSITORY_URL_HTTP` | Repository https-based URL
`REPOSITORY_USER_NAME` | Service user username
`REPOSITORY_PASSWORD` |  Service user password


<a id="kubernetes-openshift-examples" />

# Kubernetes/Openshift Examples

<a id="example-default" />

## default

### Minimal
```yaml
apiVersion: servicecatalog.k8s.io/v1beta1
kind: ServiceInstance
metadata:
  name: codecommit-default-minimal-example
spec:
  clusterServiceClassExternalName: codecommit
  clusterServicePlanExternalName: default
```

### Complete
```yaml
apiVersion: servicecatalog.k8s.io/v1beta1
kind: ServiceInstance
metadata:
  name: codecommit-default-complete-example
spec:
  clusterServiceClassExternalName: codecommit
  clusterServicePlanExternalName: default
  parameters:
      RepositoryName: Auto
      RepositoryDescription: ""
```

